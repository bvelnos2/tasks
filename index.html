<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Household Favors</title>
    <style>
        :root {
            --bg: #0b0b0d;
            --panel: #1a1b20;
            --panel-2: #20222a;
            --text: #e9e9ee;
            --muted: #a9adbb;
            --accent: #8b7cf3;
            --accent-2: #69d5ff;
            --danger: #ff6b6b;
            --success: #6bff95;
            --radius: 20px;
            --shadow: 0 10px 30px rgba(0,0,0,.35);
        }

        * {
            box-sizing: border-box
        }

        html, body {
            height: 100%
        }

        body {
            margin: 0;
            background: radial-gradient(1200px 800px at 10% -10%, #131318 0%, transparent 60%), radial-gradient(1000px 600px at 110% 10%, #101019 0%, transparent 60%), var(--bg);
            color: var(--text);
            font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 24px
        }

        .panel {
            background: linear-gradient(180deg, var(--panel) 0%, var(--panel-2) 100%);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            border: 1px solid rgba(255,255,255,.05);
            padding: 20px
        }

            .panel + .panel {
                margin-top: 18px
            }

        .title {
            font-size: 32px;
            font-weight: 800;
            letter-spacing: .3px;
            margin: 0 0 12px
        }

        .subtitle {
            font-size: 14px;
            color: var(--muted);
            margin: -6px 0 16px
        }

        .grid {
            display: grid;
            gap: 16px
        }

        @media (min-width: 860px) {
            .grid {
                grid-template-columns: 1fr 1fr
            }
        }

        .btn {
            appearance: none;
            border: 0;
            cursor: pointer;
            padding: 12px 16px;
            border-radius: 14px;
            background: linear-gradient(180deg, #2a2b33, #1f2027);
            color: #fff;
            font-weight: 700;
            box-shadow: inset 0 1px 0 rgba(255,255,255,.04), 0 8px 18px rgba(0,0,0,.25);
            transition: transform .04s ease, filter .2s ease
        }

            .btn:hover {
                filter: brightness(1.07)
            }

            .btn:active {
                transform: translateY(1px)
            }

        .selector {
            display: grid;
            gap: 14px;
            grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
            margin-top: 16px
        }

        .card {
            background: linear-gradient(180deg, #1a1b20, #15161b);
            border: 1px solid rgba(255,255,255,.05);
            padding: 22px;
            border-radius: 22px;
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: transform .08s ease, filter .15s ease
        }

            .card:hover {
                transform: translateY(-2px);
                filter: brightness(1.06)
            }

        .chip {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 10px;
            border-radius: 999px;
            font-size: 12px;
            background: #252734;
            color: var(--muted);
            border: 1px solid rgba(255,255,255,.06)
        }

        .row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 14px
        }

            .row.wrap {
                flex-wrap: wrap
            }

        .balance {
            display: flex;
            align-items: baseline;
            gap: 10px
        }

            .balance .main {
                font-size: 42px;
                font-weight: 900
            }

            .balance .label {
                font-size: 12px;
                color: var(--muted)
            }

        .room {
            border-top: 1px solid rgba(255,255,255,.06);
            padding-top: 14px;
            margin-top: 10px
        }

            .room h3 {
                margin: 8px 0 8px;
                font-size: 18px
            }

        .task {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 10px;
            border-radius: 12px;
            background: #1d1e25;
            border: 1px solid rgba(255,255,255,.05);
            margin: 8px 0
        }

            .task input[type="checkbox"] {
                width: 18px;
                height: 18px;
                margin-top: 2px
            }

        .muted {
            color: var(--muted)
        }

        .divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,.08), transparent);
            margin: 14px 0
        }

        .footer {
            opacity: .6;
            font-size: 12px;
            text-align: center;
            margin: 16px 0
        }
        /* alerts */
        #alerts {
            margin-bottom: 12px
        }

        .alert {
            background: #3a3205;
            border: 1px solid #f5d34f;
            color: #ffe58a;
            padding: 12px 14px;
            border-radius: 12px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: 12px
        }

            .alert .msg {
                flex: 1
            }

            .alert .close {
                cursor: pointer;
                font-weight: 900;
                opacity: .8
            }

                .alert .close:hover {
                    opacity: 1
                }
    </style>
</head>
<body>
    <div class="container">
        <div id="alerts"></div>

        <!-- Profile selector -->
        <div id="view-selector" class="panel">
            <h1 class="title">Household Favors</h1>
            <p class="subtitle">Pick your profile to open your dashboard.</p>
            <div class="selector">
                <div class="card" onclick="selectUser('spibbs')">
                    <div class="row"><span class="chip">User</span><span class="muted">spibbs</span></div>
                    <div style="height:8px"></div>
                    <div class="balance"><span class="main" id="bal-card-spibbs">0.00</span><span class="label">Favors</span></div>
                </div>
                <div class="card" onclick="selectUser('sneefli')">
                    <div class="row"><span class="chip">User</span><span class="muted">sneefli</span></div>
                    <div style="height:8px"></div>
                    <div class="balance"><span class="main" id="bal-card-sneefli">0.00</span><span class="label">Favors</span></div>
                </div>
            </div>
        </div>

        <!-- Dashboard -->
        <div id="view-dashboard" style="display:none">
            <div class="row" style="margin-bottom:12px">
                <button class="btn" onclick="backToProfiles()">← Switch profile</button>
            </div>

            <!-- Wallet -->
            <div class="panel">
                <div class="row wrap">
                    <h2 class="title" style="font-size:24px;margin:0">Wallet</h2>
                    <span class="chip" id="who-chip">User: —</span>
                </div>
                <div class="divider"></div>
                <div class="row wrap">
                    <div class="balance">
                        <span class="main" id="my-balance">0.00</span>
                        <span class="label">Current Balance</span>
                    </div>
                    <div class="balance" style="opacity:.8">
                        <span class="main" id="their-balance" style="font-size:28px">0.00</span>
                        <span class="label">Other User</span>
                    </div>
                </div>
                <div style="height:10px"></div>
                <div class="row" style="gap:10px;flex-wrap:wrap">
                    <button class="btn" onclick="spendFavor(1)">Use 1 Favor</button>
                    <button class="btn" onclick="spendFavor(2)">Use 2 Favors</button>
                    <span class="muted" style="font-size:12px">(Balances persist on this device)</span>
                </div>
            </div>

            <!-- Household Watch -->
            <div class="panel">
                <h2 class="title" style="font-size:22px;margin:0 0 6px">Household Watch</h2>
                <p class="subtitle">Checking a box means the <b>other user</b> missed it; you instantly gain <b>+0.25</b> Favor. One claim per task per day per user.</p>
                <div id="household-watch"></div>
            </div>

            <!-- Daily Tasks -->
            <div class="panel">
                <h2 class="title" style="font-size:22px;margin:0 0 6px">Today's Tasks</h2>
                <p class="subtitle">Tasks are assigned daily by room and must be done by <b>11:59pm</b>. Each incomplete task gives the other user <b>+0.50</b> Favor.</p>
                <div id="daily-tasks"></div>
            </div>

            <!-- Weekly Tasks -->
            <div class="panel">
                <h2 class="title" style="font-size:22px;margin:0 0 6px">This Week's Tasks (Mon–Sun)</h2>
                <p class="subtitle">Assigned once per week, split evenly and randomly between users. Incomplete at week end grants the other user <b>+0.50</b> Favor.</p>
                <div id="weekly-tasks"></div>
            </div>

            <div class="footer">Tip: Open each profile in its own tab so alerts appear for the other user too.</div>
        </div>
    </div>

    <script>
        (() => {
            // ------------- Safe Channel (fallback if BroadcastChannel unavailable)
            function makeChannel(name) {
                try {
                    if ('BroadcastChannel' in window) {
                        const ch = new BroadcastChannel(name);
                        return {
                            post: (msg) => ch.postMessage(msg),
                            on: (fn) => { ch.addEventListener('message', (e) => fn(e.data)); }
                        }
                    }
                } catch { }
                // no-op fallback
                const listeners = [];
                return {
                    post: (_) => { },
                    on: (fn) => { listeners.push(fn); }
                }
            }
            const BUS = makeChannel('household-favors');

            // ------------- Globals & helpers
            const USERS = ['spibbs', 'sneefli'];
            let currentUser = sessionStorage.getItem('hf.currentUser') || null;
            const fmt = (n) => (Math.round(n * 100) / 100).toFixed(2);
            const todayKey = () => {
                const d = new Date();
                return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;
            };
            function weekKey(dt = new Date()) {
                const d = new Date(dt);
                const day = (d.getDay() + 6) % 7; // Mon=0..Sun=6
                d.setHours(0, 0, 0, 0); d.setDate(d.getDate() - day);
                return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;
            }
            const loadJSON = (k, fallback) => { try { const v = JSON.parse(localStorage.getItem(k)); return v ?? fallback; } catch { return fallback; } };
            const saveJSON = (k, v) => localStorage.setItem(k, JSON.stringify(v));

            // ------------- Balances
            function loadBalances() { return loadJSON('hf.balances', { spibbs: 0, sneefli: 0 }); }
            function saveBalances(obj) { saveJSON('hf.balances', obj); BUS.post({ type: 'balances' }); updateCards(); }
            function updateCards() {
                const b = loadBalances();
                const a = document.getElementById('bal-card-spibbs'); if (a) a.textContent = fmt(b.spibbs || 0);
                const c = document.getElementById('bal-card-sneefli'); if (c) c.textContent = fmt(b.sneefli || 0);
            }

            // ------------- Alerts
            function getAlerts(user) { return loadJSON(`hf.alerts.${user}`, []); }
            function saveAlerts(user, arr) { saveJSON(`hf.alerts.${user}`, arr); }
            function pushAlert(to, msg) {
                const arr = getAlerts(to); const id = Date.now() + Math.random(); arr.push({ id, msg }); saveAlerts(to, arr);
                if (currentUser === to) renderAlerts();
                BUS.post({ type: 'alert', to, message: msg });
            }
            function renderAlerts() {
                const box = document.getElementById('alerts'); if (!box || !currentUser) return;
                box.innerHTML = '';
                (getAlerts(currentUser) || []).forEach(({ id, msg }) => {
                    const wrap = document.createElement('div'); wrap.className = 'alert';
                    const m = document.createElement('div'); m.className = 'msg'; m.textContent = msg;
                    const x = document.createElement('div'); x.className = 'close'; x.textContent = '✕';
                    x.onclick = () => { saveAlerts(currentUser, getAlerts(currentUser).filter(it => it.id !== id)); renderAlerts(); };
                    wrap.appendChild(m); wrap.appendChild(x); box.appendChild(wrap);
                });
            }

            // ------------- Household Watch
            const HOUSEHOLD_WATCH = [
                'All beauty/hair product returned to sink cabinets. No empty product or trash in cabinets.',
                'Hair dryer and shaving materials returned to drawer and unplugged',
                'No blankets or clothing on the floor (Household Wide)',
                'Kitchen counters cleared of all trash and clutter',
                'Kitchen should be cleaned and cleared of any trash or stray ingredients immediately after cooking.'
            ];
            function renderWatch() {
                const root = document.getElementById('household-watch'); root.innerHTML = '';
                const key = `hf.watchClaims.${todayKey()}`;
                const getClaims = () => loadJSON(key, { spibbs: {}, sneefli: {} }); const setClaims = (x) => saveJSON(key, x);
                HOUSEHOLD_WATCH.forEach((label, idx) => {
                    const row = document.createElement('label'); row.className = 'task';
                    const cb = document.createElement('input'); cb.type = 'checkbox';
                    const claims = getClaims();
                    cb.checked = !!claims[currentUser]?.[idx]; cb.disabled = !!claims[currentUser]?.[idx];
                    cb.onchange = () => {
                        if (!cb.checked) return;
                        const c = getClaims(); c[currentUser] = c[currentUser] || {}; if (c[currentUser][idx]) return; c[currentUser][idx] = true; setClaims(c);
                        const b = loadBalances(); b[currentUser] = (b[currentUser] || 0) + 0.25; saveBalances(b); renderWallet();
                        pushAlert(otherUser(), `${currentUser} claimed Household Watch: "${label}" (+0.25 Favor).`);
                        cb.disabled = true;
                    };
                    row.appendChild(cb); row.append(label); root.appendChild(row);
                });
            }

            // ------------- Daily tasks (assign per-day, even split)
            const ROOMS = {
                'Kitchen': ['Do the dishes', 'Clean the litter box', 'Take out the trash', 'Clean the stovetop'],
                'Living Room': ['Clear all surfaces of trash, food, and clutter', 'Neatly place pillows on couch and put blankets away', 'Clean desk areas of trash and clutter'],
                'Bedroom': ['Trash cleared from surfaces and clutter on nightstands cleared.'],
                'Bathroom': ['Toilet paper tower refilled', 'Bathroom trash taken out']
            };
            const dailyAssignKey = 'hf.dailyAssign';
            const dailyDoneKey = 'hf.dailyDone';
            function getDailyAssignments() { return loadJSON(dailyAssignKey, {}); }
            function saveDailyAssignments(x) { saveJSON(dailyAssignKey, x); BUS.post({ type: 'daily-assign' }); }
            function getDailyCompletions() { return loadJSON(dailyDoneKey, {}); }
            function saveDailyCompletions(x) { saveJSON(dailyDoneKey, x); BUS.post({ type: 'daily-done' }); }
            function ensureDailyAssignments() {
                const dk = todayKey(); const all = getDailyAssignments(); if (all[dk]) return;
                const flat = []; for (const [room, tasks] of Object.entries(ROOMS)) { for (const t of tasks) flat.push(`${room}::${t}`); }
                flat.sort(() => Math.random() - 0.5);
                const counts = { spibbs: 0, sneefli: 0 }; const map = {};
                flat.forEach(k => { const who = counts.spibbs <= counts.sneefli ? 'spibbs' : 'sneefli'; map[k] = who; counts[who]++; });
                all[dk] = map; saveDailyAssignments(all);
            }
            function renderDaily() {
                ensureDailyAssignments();
                const dk = todayKey(); const assigns = getDailyAssignments()[dk] || {}; const done = (getDailyCompletions()[dk]?.[currentUser]) || {};
                const root = document.getElementById('daily-tasks'); root.innerHTML = '';
                for (const [room, tasks] of Object.entries(ROOMS)) {
                    const r = document.createElement('div'); r.className = 'room'; r.innerHTML = `<h3>${room}</h3>`;
                    const assigned = tasks.filter(t => assigns[`${room}::${t}`] === currentUser);
                    if (assigned.length === 0) {
                        const p = document.createElement('div'); p.className = 'muted'; p.textContent = 'Nothing to do here :)'; r.appendChild(p);
                    } else {
                        assigned.forEach(task => {
                            const key = `${room}::${task}`;
                            const row = document.createElement('label'); row.className = 'task';
                            const cb = document.createElement('input'); cb.type = 'checkbox'; cb.checked = !!done[key];
                            cb.onchange = () => { const all = getDailyCompletions(); all[dk] = all[dk] || { spibbs: {}, sneefli: {} }; all[dk][currentUser][key] = cb.checked; saveDailyCompletions(all); };
                            row.appendChild(cb); row.append(task); r.appendChild(row);
                        });
                    }
                    root.appendChild(r);
                }
            }
            // Daily penalties at midnight local (+ ~10s)
            function processYesterdayDailyPenalties() {
                const last = localStorage.getItem('hf.daily.lastProcessed'); const today = todayKey();
                if (last === today) return;
                const y = new Date(); y.setHours(0, 0, 0, 0); y.setDate(y.getDate() - 1);
                const yKey = `${y.getFullYear()}-${String(y.getMonth() + 1).padStart(2, '0')}-${String(y.getDate()).padStart(2, '0')}`;
                const assigns = getDailyAssignments()[yKey];
                if (!assigns) { localStorage.setItem('hf.daily.lastProcessed', today); return; }
                const comps = getDailyCompletions()[yKey] || { spibbs: {}, sneefli: {} };
                const balances = loadBalances();
                for (const [taskKey, who] of Object.entries(assigns)) {
                    const completed = !!(comps[who] && comps[who][taskKey]);
                    if (!completed) { const other = who === 'spibbs' ? 'sneefli' : 'spibbs'; balances[other] = (balances[other] || 0) + 0.5; }
                }
                saveBalances(balances);
                localStorage.setItem('hf.daily.lastProcessed', today);
            }
            function msUntilMidnight() { const now = new Date(); const d = new Date(now); d.setHours(24, 0, 10, 0); return Math.max(2000, d - now); }
            function scheduleDailyCheck() { setTimeout(() => { processYesterdayDailyPenalties(); scheduleDailyCheck(); }, msUntilMidnight()); }

            // ------------- Weekly tasks (assign once per week, even split)
            const WEEKLY = {
                'Kitchen': ['Wipe down surfaces and mop/sweep floors'],
                'Living Room': ['Vacuum', 'Wipe down surfaces'],
                'Bedroom': ['Vacuum', 'Wipe down surfaces'],
                'Bathroom': ['Sweep/mop floors', 'Clean sink and mirror', 'Clean toilet']
            };
            const weekAssignKey = 'hf.week.assignments';
            const weekDoneKey = 'hf.week.completions';
            function getWeekAssignments() { return loadJSON(weekAssignKey, {}); }
            function setWeekAssignments(x) { saveJSON(weekAssignKey, x); BUS.post({ type: 'week-assign' }); }
            function getWeekCompletions() { return loadJSON(weekDoneKey, {}); }
            function setWeekCompletions(x) { saveJSON(weekDoneKey, x); BUS.post({ type: 'week-done' }); }

            // Rebuild if keys mismatch (migration-safe)
            function ensureWeeklyAssignments() {
                const wk = weekKey();
                const all = getWeekAssignments();
                const expected = [];
                for (const [room, tasks] of Object.entries(WEEKLY)) {
                    for (const name of tasks) { expected.push(`${room}::${name}`); }
                }
                let need = !all[wk];
                if (!need) {
                    const current = all[wk];
                    const matches = expected.filter(k => Object.prototype.hasOwnProperty.call(current, k)).length;
                    if (matches < expected.length) need = true;
                }
                if (!need) return;

                const flat = expected.slice().sort(() => Math.random() - 0.5);
                const counts = { spibbs: 0, sneefli: 0 };
                const assign = {};
                for (const id of flat) {
                    const chosen = counts.spibbs <= counts.sneefli ? 'spibbs' : 'sneefli';
                    assign[id] = chosen; counts[chosen]++;
                }
                all[wk] = assign; setWeekAssignments(all);
            }
            function renderWeekly() {
                ensureWeeklyAssignments();
                const wk = weekKey(); const assigns = getWeekAssignments()[wk] || {}; const comps = (getWeekCompletions()[wk]?.[currentUser]) || {};
                const root = document.getElementById('weekly-tasks'); root.innerHTML = '';
                for (const [room, tasks] of Object.entries(WEEKLY)) {
                    const r = document.createElement('div'); r.className = 'room'; r.innerHTML = `<h3>${room}</h3>`;
                    const assigned = tasks.filter(name => assigns[`${room}::${name}`] === currentUser);
                    if (assigned.length === 0) {
                        const p = document.createElement('div'); p.className = 'muted'; p.textContent = 'Nothing to do here :)'; r.appendChild(p);
                    } else {
                        for (const name of assigned) {
                            const id = `${room}::${name}`;
                            const row = document.createElement('label'); row.className = 'task';
                            const cb = document.createElement('input'); cb.type = 'checkbox'; cb.checked = !!comps[id];
                            cb.onchange = () => { const all = getWeekCompletions(); all[wk] = all[wk] || { spibbs: {}, sneefli: {} }; all[wk][currentUser][id] = cb.checked; setWeekCompletions(all); };
                            row.appendChild(cb); row.append(name); r.appendChild(row);
                        }
                    }
                    root.appendChild(r);
                }
            }
            // End-of-week penalties when a new week begins
            function processLastWeekPenalties() {
                const currentWk = weekKey();
                const lastProcessed = localStorage.getItem('hf.week.lastProcessed');
                if (lastProcessed === currentWk) return;
                const start = new Date(currentWk + "T00:00:00"); const prevStart = new Date(start.getTime() - 7 * 24 * 60 * 60 * 1000);
                const prevKey = `${prevStart.getFullYear()}-${String(prevStart.getMonth() + 1).padStart(2, '0')}-${String(prevStart.getDate()).padStart(2, '0')}`;
                const assigns = getWeekAssignments()[prevKey];
                if (!assigns) { localStorage.setItem('hf.week.lastProcessed', currentWk); return; }
                const compsAll = getWeekCompletions()[prevKey] || { spibbs: {}, sneefli: {} };
                const balances = loadBalances();
                for (const [id, who] of Object.entries(assigns)) {
                    const done = !!(compsAll[who] && compsAll[who][id]);
                    if (!done) { const other = who === 'spibbs' ? 'sneefli' : 'spibbs'; balances[other] = (balances[other] || 0) + 0.5; }
                }
                saveBalances(balances);
                localStorage.setItem('hf.week.lastProcessed', currentWk);
            }
            function msUntilNextWeek() {
                const now = new Date(); const d = new Date(now);
                const day = (d.getDay() + 6) % 7; d.setHours(24, 0, 10, 0); d.setDate(d.getDate() - day + 7);
                return Math.max(2000, d - now);
            }
            function scheduleWeeklyCheck() { setTimeout(() => { processLastWeekPenalties(); ensureWeeklyAssignments(); scheduleWeeklyCheck(); }, msUntilNextWeek()); }

            // ------------- Dashboard wiring & exports
            function otherUser() { return currentUser === 'spibbs' ? 'sneefli' : 'spibbs'; }
            function renderWallet() {
                const b = loadBalances();
                const me = document.getElementById('my-balance');
                const th = document.getElementById('their-balance');
                if (me) me.textContent = fmt(b[currentUser] || 0);
                if (th) th.textContent = fmt(b[otherUser()] || 0);
            }
            function renderAll() {
                const chip = document.getElementById('who-chip');
                if (chip) chip.textContent = `User: ${currentUser}`;
                renderWallet(); renderAlerts(); renderWatch(); renderDaily(); renderWeekly();
            }

            // Exported so onclick in HTML can find them even if bundlers change scope
            window.selectUser = function (u) {
                currentUser = u;
                sessionStorage.setItem('hf.currentUser', u);
                document.getElementById('view-selector').style.display = 'none';
                document.getElementById('view-dashboard').style.display = 'block';
                renderAll();
            };
            window.backToProfiles = function () {
                sessionStorage.removeItem('hf.currentUser'); currentUser = null;
                document.getElementById('view-selector').style.display = 'block';
                document.getElementById('view-dashboard').style.display = 'none';
                updateCards();
            };
            window.spendFavor = function (amount) {
                const b = loadBalances();
                if ((b[currentUser] || 0) < amount) { alert('Not enough Favor.'); return; }
                b[currentUser] -= amount; saveBalances(b); renderWallet();
            };

            // ------------- Cross-tab updates
            BUS.on((data) => {
                if (!data) return;
                if (data.type === 'balances') { if (currentUser) renderWallet(); updateCards(); }
                if (data.type === 'daily-assign' || data.type === 'daily-done') { if (currentUser) renderDaily(); }
                if (data.type === 'week-assign' || data.type === 'week-done') { if (currentUser) renderWeekly(); }
                if (data.type === 'alert' && currentUser === data.to) { pushAlert(data.to, data.message); }
            });

            // ------------- Init
            updateCards();
            ensureWeeklyAssignments(); processLastWeekPenalties(); scheduleWeeklyCheck();
            ensureDailyAssignments(); processYesterdayDailyPenalties(); scheduleDailyCheck();

            if (currentUser) {
                document.getElementById('view-selector').style.display = 'none';
                document.getElementById('view-dashboard').style.display = 'block';
                renderAll();
            }
        })();
    </script>
</body>
</html>
